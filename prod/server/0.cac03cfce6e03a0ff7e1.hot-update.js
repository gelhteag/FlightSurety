exports.id=0,exports.modules={"./src/server/server.js":function(e,o,s){"use strict";s.r(o);var t=s("./build/contracts/FlightSuretyApp.json"),n=s("./src/server/config.json"),r=(s("./src/dapp/config.json"),s("web3")),c=s.n(r);var a=s("express"),l=s.n(a),i=n.localhost,u=new c.a(new c.a.providers.WebsocketProvider(i.url.replace("http","ws")));u.eth.defaultAccount=u.eth.accounts[0];var d=new u.eth.Contract(t.abi,i.appAddress),f=[],g=[0,10,20,30,40,50];u.eth.getAccounts((function(e,o){o[0];for(var s=function(e){d.methods.registerOracle().send({from:o[e],value:u.utils.toWei("1","ether"),gas:45e5},(function(s,t){s?console.log(s):d.methods.getMyIndexes().call({from:o[e]},(function(s,t){if(s)console.log(s);else{var n={address:o[e],index:t};console.log("Oracle: ".concat(JSON.stringify(n))),console.log(g[Math.floor(Math.random()*g.length)]),f.push(n)}}))}))},t=10;t<30;t++)s(t)})),d.events.OracleRequest({fromBlock:0},(function(e,o){if(e)console.log(e);else for(var s=o.returnValues.index,t=o.returnValues.airline,n=o.returnValues.flight,r=o.returnValues.timestamp,c=function(e){f[e].index.includes(s)&&d.methods.submitOracleResponse(s,t,n,r,statusCode).send({from:f[e].address},(function(o,s){o?console.log(o):console.log("".concat(JSON.stringify(f[e]),": Status code ").concat(statusCode))}))},a=0;a<f.length;a++)c(a)}));var h=l()();h.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})}));o.default=h}};