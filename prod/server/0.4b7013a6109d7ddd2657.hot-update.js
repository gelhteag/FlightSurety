exports.id=0,exports.modules={"./src/server/server.js":function(e,n,o){"use strict";o.r(n);var s=o("./build/contracts/FlightSuretyApp.json"),t=o("./src/server/config.json"),r=(o("./src/dapp/config.json"),o("web3")),c=o.n(r);var a=o("express"),l=o.n(a),i=t.localhost,u=new c.a(new c.a.providers.WebsocketProvider(i.url.replace("http","ws")));u.eth.defaultAccount=u.eth.accounts[0];var d=new u.eth.Contract(s.abi,i.appAddress),f=[],g=[0,10,20,30,40,50];function h(){return g[Math.floor(Math.random()*g.length)]}u.eth.getAccounts((function(e,n){n[0];for(var o=function(e){d.methods.registerOracle().send({from:n[e],value:u.utils.toWei("1","ether"),gas:45e5},(function(o,s){o?console.log(o):d.methods.getMyIndexes().call({from:n[e]},(function(o,s){if(o)console.log(o);else{var t={address:n[e],index:s};console.log("Oracle: ".concat(JSON.stringify(t))),f.push(t)}}))}))},s=10;s<30;s++)o(s)})),d.events.OracleRequest({fromBlock:0},(function(e,n){if(e)console.log(e);else for(var o=function(e){f[e].index.includes(index)&&d.methods.submitOracleResponse(n.returnValues.index,n.returnValues.airline,n.returnValues.flight,n.returnValues.timestamp,h()).send({from:f[e].address},(function(n,o){n?console.log(n):console.log("".concat(JSON.stringify(f[e]),": Status code ").concat(h()))}))},s=0;s<f.length;s++)o(s)}));var p=l()();p.get("/api",(function(e,n){n.send({message:"An API for use with your Dapp!"})}));n.default=p}};