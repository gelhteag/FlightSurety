exports.id=0,exports.modules={"./src/server/server.js":function(e,o,s){"use strict";s.r(o);var n=s("./build/contracts/FlightSuretyApp.json"),t=s("./src/server/config.json"),r=(s("./src/dapp/config.json"),s("web3")),c=s.n(r);var a=s("express"),i=s.n(a),l=t.localhost,d=new c.a(new c.a.providers.WebsocketProvider(l.url.replace("http","ws")));d.eth.defaultAccount=d.eth.accounts[0];var u=new d.eth.Contract(n.abi,l.appAddress),f=[];function g(){return 10*Math.floor(6*Math.random())}d.eth.getAccounts((function(e,o){o[0];for(var s=function(e){u.methods.registerOracle().send({from:o[e],value:d.utils.toWei("1","ether"),gas:45e5},(function(s,n){s?console.log(s):u.methods.getMyIndexes().call({from:o[e]},(function(s,n){if(s)console.log(s);else{var t=JSON.stringify({address:o[e],index:n});console.log("Oracle: - address :".concat(t.address,"\n- index :").concat(t.index)),f.push(t)}}))}))},n=10;n<30;n++)s(n)})),u.events.OracleRequest({fromBlock:0},(function(e,o){if(e)console.log(e);else for(var s=o.returnValues,n=s.index,t=function(e){f[e].index.includes(n)&&u.methods.submitOracleResponse(n,s.airline,s.flight,s.timestamp,g()).send({from:f[e].address},(function(o,s){o?console.log(o):console.log("".concat(JSON.stringify(f[e]),": Status code ").concat(g()))}))},r=0;r<f.length;r++)t(r)}));var p=i()();p.get("/api",(function(e,o){o.send({message:"An API for use with your Dapp!"})}));o.default=p}};